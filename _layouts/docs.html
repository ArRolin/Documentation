---
layout: default
---

{% assign previous = '' %}
{% assign next = '' %}

{% assign url = page.url %}
{% if url == "/" %}
	{% assign url = "/overview/welcome/" %}
{% endif %}

{% assign parts = url | split: "/" %}

{% for collection in site.collections %}
	{% if section %}
		{% if collection.output %}
			{% assign next = collection %}
			{% break %}
		{% endif %}
	{% elsif parts[1] == collection.active_prefix %}
		{% assign section = collection.title %}
		{% assign items = collection.docs | sort: 'order' %}
	{% elsif collection.output %}
		{% assign previous = collection %}
	{% endif %}
{% endfor %}

<section class="main">
	<div class="page-header">
		<h2>{% if page.heading %}{{ page.heading }}{% else %}{{ page.title }}{% endif %}</h2>
		<h3>{{ section }}</h3>

		{% if items %}
			{% include section-nav.html items=items previous_collection=previous next_collection=next %}
		{% endif %}
	</div>
	<article class="content">
		{% assign requirements = "" %}

		{% if page.requirements.build == 'Jekyll' %}
			{% assign requirements = requirements | append: ' for Jekyll sites' %}
		{% endif %}

		{% if page.requirements.hosting == 'CloudCannon' %}
			{% assign requirements = requirements | append: ' with CloudCannon hosting' %}
		{% endif %}

		{% if page.requirements.plan == 'Basic' %}
			{% assign requirements = requirements | append: ' on the Basic, Agency and Enterprise plans' %}
		{% elsif page.requirements.plan == 'Agency' %}
			{% assign requirements = requirements | append: ' on the Agency and Enterprise plans' %}
		{% elsif page.requirements.plan == 'Enterprise' %}
			{% assign requirements = requirements | append: ' on the Enterprise plan' %}
		{% endif %}

		{% if requirements != "" %}
			<p class="info">Available{{ requirements }}.</p>
		{% endif %}

		{{ content }}
	</article>
</section>
